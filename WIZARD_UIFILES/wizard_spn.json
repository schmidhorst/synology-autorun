[
{
"step_title":"Licencia",
"invalid_next_disabled": true,
"items": [{
"type": "multiselect",
"desc":"Licencia BSD de 3 cláusulas<br><br>Copyright (c) 2011-2022, Jan Reidemeister y Horst Schmid<br>Todos los derechos reservados.<br><br>Se permite la redistribución y el uso en forma de código fuente y binario, con o sin modificaciones, siempre que se cumplan las siguientes condiciones:<br>1. Las redistribuciones del código fuente deben conservar el aviso de copyright anterior, esta lista de condiciones y el siguiente descargo de responsabilidad.<br>2. Las redistribuciones en forma binaria deben reproducir el aviso de copyright anterior, esta lista de condiciones y el siguiente descargo de responsabilidad en la documentación y/o otros materiales proporcionados con la distribución.<br>3. Ni el nombre del titular de los derechos de autor ni los nombres de sus colaboradores pueden utilizarse para respaldar o promocionar productos derivados de este software sin un permiso específico previo por escrito.<br><br> ESTE SOFTWARE ES PROPORCIONADO POR LOS TITULARES DE LOS DERECHOS DE AUTOR Y LOS COLABORADORES \"TAL CUAL\" Y SE RECHAZA CUALQUIER GARANTÍA EXPRESA O IMPLÍCITA, INCLUYENDO, PERO SIN LIMITARSE A ELLO, LAS GARANTÍAS IMPLÍCITAS DE COMERCIALIZACIÓN E IDONEIDAD PARA UN PROPÓSITO PARTICULAR. EN NINGÚN CASO EL TITULAR DE LOS DERECHOS DE AUTOR O LOS COLABORADORES SERÁN RESPONSABLES DE NINGÚN DAÑO DIRECTO, INDIRECTO, INCIDENTAL, ESPECIAL, EJEMPLAR O CONSECUENTE (INCLUYENDO, PERO SIN LIMITARSE A, LA ADQUISICIÓN DE BIENES O SERVICIOS SUSTITUTIVOS; LA PÉRDIDA DE USO, DATOS O BENEFICIOS; O LA INTERRUPCIÓN DE LA ACTIVIDAD COMERCIAL), SEA CUAL SEA LA CAUSA Y LA TEORÍA DE LA RESPONSABILIDAD, YA SEA POR CONTRATO, RESPONSABILIDAD ESTRICTA O AGRAVIO (INCLUYENDO LA NEGLIGENCIA O DE OTRO TIPO) QUE SURJA DE CUALQUIER MANERA DEL USO DE ESTE SOFTWARE, INCLUSO SI SE AVISA DE LA POSIBILIDAD DE TALES DAÑOS.",
"subitems": [
{
"key": "id1",
"desc":"Aceptado",
"defaultValue": false,
"validator": {
"fn": "{return arguments[0];}"
}
}
]
}
]
}
, {
"step_title":"Configuración",
"items": [
{"type": "textfield",
"desc":"El script debe estar ubicado en el directorio raíz del dispositivo externo y configurado como ejecutable para el usuario 'root'. Obtiene el punto de montaje del dispositivo (por ejemplo, /volumeUSB1/usbshare/) como primer parámetro ($1) y la partición del dispositivo (por ejemplo, usb1p1) como segundo ($2). Sugerencia: El script se ejecuta con el entorno vacío, ¡tienes que especificar todos los comandos utilizados con la ruta!",
"subitems": [{
"key": "config_SCRIPT",
"desc":"Script a ejecutar",
"defaultValue": "@SCRIPT@",
"validator": { "allowBlank": false }
}]
}
,{
"type": "textfield",
"desc":"Un valor de salida de 100 del script desmontará y expulsará el dispositivo cuando el script termine, todos los demás valores de salida lo dejarán montado. Puede detener la ejecución automática en el centro de paquetes para deshabilitarla temporalmente.<br/><br/>El tiempo de búsqueda es el tiempo que transcurre tras el disparo de udev para encontrar el punto de montaje cuando se conecta un dispositivo. El tiempo de espera adicional le da al DSM algo de margen para montar correctamente la unidad antes de iniciar el script.<br/>Es posible que tenga que aumentar esos tiempos dependiendo de su hardware.",
"subitems": [
{
"key": "config_TRIES",
"desc":"Tiempo de búsqueda (s)",
"defaultValue": "@TRIES@",
"validator": {
"allowBlank": false,
"fn": "{if (/^([0-9]+)$/.test(arguments[0])) return true; return 'Enter a positive number!'; }"
}
}
,{
"key": "config_WAIT",
"desc":"Tiempo de espera (s)",
"defaultValue": "@WAIT@",
"validator": {
"allowBlank": false,
"fn": "{if (/^([0-9]+)$/.test(arguments[0])) return true; return 'Enter a positive number!'; }"
}
}
]
}
,{
"type": "textfield",
"desc":"El tamaño de los archivos de registro se limita automáticamente. Si se alcanza el número de líneas dado, se elimina la mitad mayor.",
"subitems": [
{
"key": "config_LOG_MAX_LINES",
"desc":"Número máximo de líneas",
"defaultValue": "@LOG_MAX_LINES@",
"validator": {
"allowBlank": false,
"fn": "{if (/^([0-9]+)$/.test(arguments[0])) return true; return 'Enter a positive number!'; }"
}
}
]
}
,{
"type": "textfield",
"desc":"El paquete genera mensajes DSM, que se muestran en el escritorio a grupos de usuarios o usuarios configurables. Anteponga una @ a los nombres de los grupos, por ejemplo, @usuarios para todos los usuarios.",
"subitems": [{
"key": "config_NOTIFY_USERS",
"desc":"Visualización de mensajes a",
"width": "360",
"defaultValue": "@NOTIFY_USERS@",
"validator": { "allowBlank": true }
}
]
}
,{
"type": "combobox",
"desc":"Uso del 'LED de copia':<br/>0: el LED no se utiliza en absoluto.<br/>1: ON mientras se ejecuta o expulsa, OFF después<br/>2: parpadea mientras se ejecuta o expulsa, OFF después<br/>3: ON mientras se ejecuta o expulsa, OFF (0/100) o parpadea después (otros códigos)<br/>4: parpadea mientras se ejecuta o expulsa, OFF o parpadea después (otros códigos o fallo de expulsión)<br/>5: parpadea mientras se ejecuta o expulsa, OFF (0/100) o ON después (otros códigos o fallo de expulsión).",
"subitems": [{
"key": "config_LED_COPY",
"autoSelect": true,
"editable": false,
"desc":"Copiar LED",
"defaultValue": "@LED_COPY@",
"width": "360",
"mode": "local",
"valueField": "myId",
"displayField": "displayText",
"store": {
"xtype": "arraystore",
"fields": ["myId", "displayText"],
"data": [[0, "0 Not used"], [1, "1 ON - ON - OFF"], [2, "2 flash - flash - OFF"], [3, "3 ON - ON - OFF or flash"], [4, "4 flash - flash - OFF or flash"], [5, "5 flash - flash - OFF or ON"]]
}
}]
}
,{
"type": "combobox",
"desc":"Uso del LED de estado:<br/>0: No se usa en absoluto<br/>1: Verde mientras se ejecuta, verde intermitente durante la expulsión, OFF si se termina con 0 o 100, naranja intermitente para otros resultados o expulsión fallida<br/>2: Verde intermitente mientras se ejecuta el script o se expulsa, verde si se termina con 0 o 100, naranja intermitente para otros resultados o expulsión fallida",
"subitems": [{
"key": "config_LED",
"autoSelect": true,
"editable": false,
"desc":"LED de estado",
"width": "360",
"mode": "local",
"valueField": "myId",
"displayField": "displayText",
"defaultValue": "@LED@",
"store": {
"xtype": "arraystore",
"fields": ["myId", "displayText"],
"data": [[0, "0 Not used"], [1, "1 grn - grnFlash - OFF or orgFlash"], [2, "2 grnFlash - grnFlash - grn or orgFlash"], [3, "3 grn - grn - OFF or orgFlash"]]
}
}]
}
,{
"type": "multiselect",
"desc":"<br/>Indicación de estado mientras se ejecuta el script.",
"subitems": [{
"key": "config_BEEP",
"desc":"Pitido al inicio y al final",
"defaultValue": "@BEEP@"
}]
}
,{
"type": "textfield",
"desc":"Si el script termina con el código de salida 100, se intentará expulsar el dispositivo. Puede especificar el tiempo de espera (en segundos) para expulsar el dispositivo",
"subitems": [{
"key": "config_EJECT_TIMEOUT",
"desc":"Tiempo de espera de expulsión [s]",
"defaultValue": "@EJECT_TIMEOUT@",
"validator": {
"allowBlank": false,
"fn": "{if (/^([0-9]+)$/.test(arguments[0])) return true; return 'Enter a positive number!'; }"
}
}]
}
,{
"type": "textfield",
"desc":"Puede especificar opcionalmente otro script (¡con la ruta completa!), que se ejecuta en caso de expulsión solicitada (con el código de salida 100 de su primer script) después de la expulsión. Esto puede usarse, por ejemplo, para apagar su dispositivo USB. Si la expulsión falló, el argumento será 'Ejection failed', en caso de éxito no hay argumento.",
"subitems": [{
"key": "config_SCRIPT_AFTER_EJECT",
"desc":"Guión después de la expulsión (en DSM)",
"width": "350",
"defaultValue": "@SCRIPT_AFTER_EJECT@",
"validator": {
"allowBlank": true
}
}]
}]
}
,{
"step_title":"Configuración de seguridad",
"items": [{
"type": "combobox",
"desc":"El script con el mismo nombre en su dispositivo USB se ejecuta con privilegios de root en su DSM. Esto podría ser un riesgo para la seguridad. Para mejorar la seguridad es posible restringir los scripts con valores hash sha256 pre-registrados (huellas dactilares).<br/>En realidad hay @ENTRY_COUNT@ hashes de scripts registrados.<br/>0: La función de seguridad no se utiliza. Todos los scripts con nombre coincidente están permitidos. No hay cambios en los hashes registrados.<br/>1: Probablemente los hashes registrados anteriormente se han borrado todos. El primer script después de la instalación/configuración se registrará y se podrá ejecutar una y otra vez.<br/>2: ¡El valor del hash de cualquier script con nombre coincidente se registrará y ejecutará! (Añadir hashes)<br/>3: Sólo se permiten los scripts previamente registrados. (Registro congelado)",
"subitems": [{
"key": "config_ADD_NEW_FINGERPRINTS",
"autoSelect": true,
"editable": false,
"desc":"Registro de Script Hash",
"width": "360",
"mode": "local",
"valueField": "myId",
"displayField": "displayText",
"defaultValue": "@ADD_NEW_FINGERPRINTS@",
"store": {
"xtype": "arraystore",
"fields": ["myId", "displayText"],
"data": [[0, "0 Feature not used (unrestricted)"], [1, "1 1st script allowed"], [2, "2 Add any hash value"], [3, "3 Only previously registered"]]
}
}]
}]
}
,{
"step_title":"IMPORTANTE: ¡Se requiere una acción manual!",
"items": [{
"type": "textfield",
"desc":"Los paquetes de terceros están restringidos por Synology en DSM 7.x. Dado que la ejecución automática requiere permiso de root para realizar su trabajo, se requiere un paso manual adicional después de la instalación.<br/><br/>SSH a su NAS (como usuario administrador) y ejecute el siguiente comando después de que la instalación haya terminado. Cópialo ahora.",
"subitems": [{
"key": "ignore_value",
"desc":"Comando",
"width": "440",
"defaultValue": "sudo cp /var/packages/autorun/conf/privilege.root /var/packages/autorun/conf/privilege"
}]
}]
}
]

