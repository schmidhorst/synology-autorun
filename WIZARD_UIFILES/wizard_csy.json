[{
"step_title":"Konfigurace",
"items": [
{"type": "textfield",
"desc":"Skript musí být umístěn v kořenovém adresáři externího zařízení a nastaven jako spustitelný pro uživatele \"root\". Jako první parametr ($1) získá přípojný bod zařízení (např. /volumeUSB1/usbshare/) a jako druhý ($2) oddíl zařízení (např. usb1p1). Tip: Skript se spouští s prázdným prostředím, všechny použité příkazy musíte zadat pomocí cesty!",
"subitems": [{
"key": "config_SCRIPT",
"desc":"Skript k provedení",
"defaultValue": "@SCRIPT@",
"validator": { "allowBlank": false }
}]
}
,{
"type": "textfield",
"desc":"Hodnota ukončení skriptu 100 způsobí odpojení a vysunutí zařízení po dokončení skriptu, všechny ostatní hodnoty ukončení ponechají zařízení připojené. Autorun můžete zastavit v centru balíčků, abyste jej dočasně zakázali.<br/><br/>Čas hledání je čas po spuštění udev pro nalezení přípojného bodu, když je zařízení připojeno. Dodatečná čekací doba dává DSM určitý prostor pro správné připojení jednotky před spuštěním skriptu.<br/>V závislosti na vašem hardwaru budete možná muset tyto časy prodloužit.",
"subitems": [
{
"key": "config_TRIES",
"desc":"Doba vyhledávání (s)",
"defaultValue": "@TRIES@",
"validator": {
"allowBlank": false,
"fn": "{if (/^([0-9]+)$/.test(arguments[0])) return true; return 'Enter a positive number!'; }"
}
}
,{
"key": "config_WAIT",
"desc":"Doba čekání (s)",
"defaultValue": "@WAIT@",
"validator": {
"allowBlank": false,
"fn": "{if (/^([0-9]+)$/.test(arguments[0])) return true; return 'Enter a positive number!'; }"
}
}
]
}
,{
"type": "textfield",
"desc":"Velikost souborů protokolu je automaticky omezena. Pokud je dosaženo daného počtu řádků, starší polovina je odstraněna.",
"subitems": [
{
"key": "config_LOG_MAX_LINES",
"desc":"Maximální počet řádků",
"defaultValue": "@LOG_MAX_LINES@",
"validator": {
"allowBlank": false,
"fn": "{if (/^([0-9]+)$/.test(arguments[0])) return true; return 'Enter a positive number!'; }"
}
}
]
}
,{
"type": "textfield",
"desc":"Balíček generuje zprávy DSM, které se zobrazují na ploše konfigurovatelným skupinám uživatelů nebo uživatelům. K názvům skupin připojte znak @, např. @users pro všechny uživatele.",
"subitems": [{
"key": "config_NOTIFY_USERS",
"desc":"Zobrazení zprávy na",
"width": "360",
"defaultValue": "@NOTIFY_USERS@",
"validator": { "allowBlank": true }
}
]
}
,{
"type": "combobox",
"desc":"Použití 'Copy LED':<br/>0: LED se vůbec nepoužívají.<br/>1: Zapnuto při spuštění nebo vysunutí, poté vypnuto<br/>2: bliká při spuštění nebo vysunutí, poté vypnuto<br/>3: Zapnuto při spuštění nebo vysunutí, poté vypnuto (0/100) nebo bliká (jiné kódy)<br/>4: bliká při spuštění nebo vysunutí, poté vypnuto nebo bliká (jiné kódy nebo vysunutí selhalo)<br/>5: bliká při spuštění nebo vysunutí, poté vypnuto (0/100) nebo zapnuto (jiné kódy nebo vysunutí selhalo).",
"subitems": [{
"key": "config_LED_COPY",
"autoSelect": true,
"editable": false,
"desc":"Kopírování LED",
"defaultValue": "@LED_COPY@",
"width": "360",
"mode": "local",
"valueField": "myId",
"displayField": "displayText",
"store": {
"xtype": "arraystore",
"fields": ["myId", "displayText"],
"data": [[0, "0 Not used"], [1, "1 ON - ON - OFF"], [2, "2 flash - flash - OFF"], [3, "3 ON - ON - OFF or flash"], [4, "4 flash - flash - OFF or flash"], [5, "5 flash - flash - OFF or ON"]]
}
}]
}
,{
"type": "combobox",
"desc":"Použití stavové LED:<br/>0: Nepoužívá se vůbec<br/>1: Zelená za běhu, zelené blikání při vysunutí, vypnuto, pokud skončí s 0 nebo 100, oranžové blikání při jiných výsledcích nebo neúspěšném vysunutí<br/>2: Zelené blikání při běhu skriptu nebo vysunutí, zelené, pokud skončí s 0 nebo 100, oranžové blikání při jiných výsledcích nebo neúspěšném vysunutí<br/>3: Zelené za běhu skriptu a při vysunutí, vypnuto, pokud skončí, oranžové blikání, pokud vysunutí selhalo.",
"subitems": [{
"key": "config_LED",
"autoSelect": true,
"editable": false,
"desc":"Stavová LED dioda",
"width": "360",
"mode": "local",
"valueField": "myId",
"displayField": "displayText",
"defaultValue": "@LED@",
"store": {
"xtype": "arraystore",
"fields": ["myId", "displayText"],
"data": [[0, "0 Not used"], [1, "1 grn - grnFlash - OFF or orgFlash"], [2, "2 grnFlash - grnFlash - grn or orgFlash"], [3, "3 grn - grn - OFF or orgFlash"]]
}
}]
}
,{
"type": "multiselect",
"desc":"<br/>Indikace stavu při spuštění skriptu.",
"subitems": [{
"key": "config_BEEP",
"desc":"Pípnutí na začátku a na konci",
"defaultValue": "@BEEP@"
}]
}
,{
"type": "textfield",
"desc":"Pokud skript skončí s kódem ukončení 100, pokusí se zařízení vysunout. Můžete zadat časový limit (v sekundách) pro vysunutí zařízení.",
"subitems": [{
"key": "config_EJECT_TIMEOUT",
"desc":"Časový limit pro vysunutí [s]",
"defaultValue": "@EJECT_TIMEOUT@",
"validator": {
"allowBlank": false,
"fn": "{if (/^([0-9]+)$/.test(arguments[0])) return true; return 'Enter a positive number!'; }"
}
}]
}
,{
"type": "textfield",
"desc":"Volitelně můžete zadat další skript (s úplnou cestou!), který se v případě požadovaného vysunutí (s kódem ukončení 100 z vašeho prvního skriptu) provede po vysunutí. Ten lze použít např. k vypnutí zařízení USB. Pokud se vysunutí nezdařilo, bude argumentem \"Vysunutí se nezdařilo\", při úspěchu žádný argument!",
"subitems": [{
"key": "config_SCRIPT_AFTER_EJECT",
"desc":"Skript po vysunutí (v DSM)",
"width": "350",
"defaultValue": "@SCRIPT_AFTER_EJECT@",
"validator": {
"allowBlank": true
}
}]
}]
}
,{
"step_title":"Konfigurace zabezpečení",
"items": [{
"type": "combobox",
"desc":"Skript s odpovídajícím názvem na vašem zařízení USB se spustí s právy roota na vašem DSM! To by mohlo představovat bezpečnostní riziko! Pro lepší zabezpečení je možné omezení na skripty s předem zaregistrovanými hodnotami hash sha256 (otisky prstů).<br/>Ve skutečnosti jsou zaregistrovány @ENTRY_COUNT@ hashe skriptů.<br/>0: Bezpečnostní funkce se nepoužívá. Všechny skripty se shodným názvem jsou povoleny. Žádná změna registrovaných hashů.<br/>1: Pravděpodobně jsou nyní všechny předchozí registrované hashe smazány. 1. skript po instalaci/konfiguraci bude zaregistrován a je povoleno jej pak znovu a znovu provádět.<br/>2: Hodnota hashe každého skriptu se shodným názvem bude zaregistrována a provedena! (Přidejte hashe)<br/>3: Povoleny jsou pouze dříve registrované skripty. (Registrace zmražena)",
"subitems": [{
"key": "config_ADD_NEW_FINGERPRINTS",
"autoSelect": true,
"editable": false,
"desc":"Registrace skriptu Hash",
"width": "360",
"mode": "local",
"valueField": "myId",
"displayField": "displayText",
"defaultValue": "@ADD_NEW_FINGERPRINTS@",
"store": {
"xtype": "arraystore",
"fields": ["myId", "displayText"],
"data": [[0, "0 Feature not used (unrestricted)"], [1, "1 1st script allowed"], [2, "2 Add any hash value"], [3, "3 Only previously registered"]]
}
}]
}]
}
,{
"step_title":"DŮLEŽITÉ: Nutná ruční akce!",
"items": [{
"type": "textfield",
"desc":"Balíčky třetích stran jsou v systému DSM 7.x omezeny společností Synology! Vzhledem k tomu, že autorun vyžaduje ke své práci oprávnění roota, je po instalaci nutný další ruční krok.<br/><br/>Připojte se pomocí SSH k NAS (jako uživatel s oprávněním správce) a po dokončení instalace spusťte následující příkaz. Nyní jej zkopírujte!",
"subitems": [{
"key": "ignore_value",
"desc":"Příkaz",
"width": "440",
"defaultValue": "sudo cp /var/packages/autorun/conf/privilege.root /var/packages/autorun/conf/privilege"
}]
}]
}
]

