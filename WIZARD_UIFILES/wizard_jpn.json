[
{
"step_title":"ライセンス",
"invalid_next_disabled": true,
"items": [{
"type": "multiselect",
"desc":"BSD 3-Clauseライセンス<br><br>Copyright (c) 2011-2022, Jan Reidemeister and Horst Schmid<br>All rights reserved.<br><br> ソースコードおよびバイナリ形式の再配布および使用は、変更の有無を問わず、以下の条件を満たしていれば許可されています：<br>1.<br>1. ソースコードの再配布は、上記の著作権表示、この条件一覧、および以下の免責事項を保持しなければなりません。<br>2. バイナリ形式の再配布は、上記の著作権表示、この条件一覧、および以下の免責事項を、配布物に付属する文書および/または他の資料で再現する必要があります。<br><img src=\"/FileUpload/Features/2/Photo/2179.jp\" style=\"border-top:solid 1px #dedddd;\" /></img<br><br>本ソフトウェアは、著作権者および貢献者によって「現状のまま」提供され、商品性および特定目的への適合性に関する暗黙の保証を含むがそれに限定されない、いかなる明示または黙示の保証も放棄されます。本ソフトウェアの使用により生じたいかなる損害（代替品またはサービスの調達、使用、データまたは利益の損失、または事業の中断を含むがこれに限定されない）についても、その原因が契約、厳格責任、または不法行為（過失またはその他を含む）であるかどうかにかかわらず、たとえその損害発生の可能性について知らされていたとしても、著作権者または貢献者は直接、間接、付随的、特別、典型的または結果的損害について責任を負わないものとします。",
"subitems": [
{
"key": "id1",
"desc":"受諾済み",
"defaultValue": false,
"validator": {
"fn": "{return arguments[0];}"
}
}
]
}
]
}
, {
"step_title":"コンフィギュレーション",
"items": [
{"type": "textfield",
"desc":"このスクリプトは、外部デバイスのルートディレクトリに配置し、ユーザー「root」の実行可能ファイルとして設定する必要があります。スクリプトは、最初のパラメータ($1)としてデバイスのマウントポイント(例: /volumeUSB1/usbshare/)、2番目のパラメータ($2)としてデバイスパーティション(例: usb1p1)を取得します。ヒント：スクリプトは空の環境で実行されるので、使用するコマンドはすべてパスで指定する必要があります",
"subitems": [{
"key": "config_SCRIPT"
,"desc":"実行するスクリプト"
,"defaultValue": "@SCRIPT@"
,"validator": { "allowBlank": false }
}]
}
,{
"type": "textfield",
"desc":"スクリプトの終了値が100の場合、スクリプトの終了時にデバイスのアンマウントとイジェクトを行い、その他の終了値ではマウントされたままになります。<br/><br/> 検索時間は、デバイスが接続されたときにマウントポイントを検索するためのudevによるトリガーの後の時間です。<br/> <br/>この追加された待ち時間は、DSM がスクリプトを開始する前にドライブを適切にマウントするための余裕を与えてくれます。",
"subitems": [
{
"key": "config_TRIES"
,"desc":"検索時間（秒）"
,"defaultValue": "@TRIES@"
,"validator": {
"allowBlank": false
,"regex": {
"expr": "/^[0-9]+$/"
,"errorText":"正の数を入力する"
}
}
}
,{
"key": "config_WAIT"
,"desc":"待ち時間（秒）"
,"defaultValue": "@WAIT@"
,"validator": {
"allowBlank": false
,"regex": {
"expr": "/^[0-9]+$/"
,"errorText":"正の数を入力する"
}
}
}
]
}
,{
"type": "textfield",
"desc":"ログファイルのサイズは自動的に制限されます。指定された行数に達した場合、上半分が削除されます。",
"subitems": [
{
"key": "config_LOG_MAX_LINES"
,"desc":"最大行数"
,"defaultValue": "@LOG_MAX_LINES@"
,"validator": {
"allowBlank": false
,"regex": {
"expr": "/^[0-9]+$/"
,"errorText":"正の数を入力する"
}
}
}
]
}
,{
"type": "textfield",
"desc":"デバッグログファイルのメッセージの詳細レベルはいくつか用意されています。0 ...8.値が高いほど、より詳細な情報が得られます。",
"subitems": [
{
"key": "config_LOGLEVEL"
,"desc":"ログ詳細レベル"
,"defaultValue": "@LOGLEVEL@"
,"validator": {
"allowBlank": false
,"regex": {
"expr": "/^[0-8]$/"
,"errorText":"正の数を入力する 0 ...8"
}
}
}
]
}
,{
"type": "textfield"
,"desc":"このパッケージは DSM デスクトップメッセージを生成し、設定可能なユーザーグループまたはユーザーに対してデスクトップ上に表示します。グループ名の前に@を付けます（例：@usersは全ユーザー）。"
,"subitems": [{
"key": "config_NOTIFY_USERS"
,"desc":"へのメッセージ表示"
,"width": "360"
,"defaultValue": "@NOTIFY_USERS@"
,"validator": { "allowBlank": true }
}]
}

,{
"type": "textfield"
,"desc":"通常、スクリプトが終了すると、DSMデスクトップメッセージが生成されます。このメッセージにはスクリプトのリターンコードと、 ストレージデバイスの残りの空き容量が含まれています。ここで、そのようなメッセージを生成しないリターンコードのリストを指定することができます。"
,"subitems": [{
"key": "config_NO_DSM_MESSAGE_RETURN_CODES"
,"desc":"メッセージのないコードを返す"
,"width": "360"
,"defaultValue": "@NO_DSM_MESSAGE_RETURN_CODES@"
,"validator": {
"allowBlank": true
,"regex": {
"expr": "/^[0-9]{1,3}(?:;[0-9]{1,3})*$/"
,"errorText":"セミコロンで区切られた1～3桁の数字を入力してください。"
}
}
}]
}
,{
"type": "combobox",
"desc":"Copy LED」の使用：<br/>0：LEDは全く使用されません。<br/>1: 走行中または排出中ON、その後OFF<br/>2: 走行中または排出中点滅、その後OFF<br/>3: 走行中または排出中ON、その後OFF（0/100）または点滅（他のコード）<br/>4: 走行中または排出中点滅、その後OFFまたは点滅（他のコードまたは排出失敗）<br/>5: 走りながら点滅、その後OFF（0/100）またはON（他のコードまたは排出失敗）<br/>1: 走りながら点滅、その後OFFまたは点滅、その後OFFまたは点滅（他のコードまたは排出失敗）<br/>3: 走りながら点滅、その後OFFまたは点滅、その後OFF（0/100）または点滅（他のコードまたは排出失敗）。",
"subitems": [{
"key": "config_LED_COPY",
"autoSelect": true,
"editable": false,
"desc":"コピーLED",
"defaultValue": "@LED_COPY@",
"width": "360",
"mode": "local",
"valueField": "myId",
"displayField": "displayText",
"store": {
"xtype": "arraystore",
"fields": ["myId", "displayText"],
"data": [[0, "0 Not used"], [1, "1 ON - ON - OFF"], [2, "2 flash - flash - OFF"], [3, "3 ON - ON - OFF or flash"], [4, "4 flash - flash - OFF or flash"], [5, "5 flash - flash - OFF or ON"]]
}
}]
}
,{
"type": "combobox",
"desc":"ステータスLEDの使用：<br/>0：全く使用しない<br/>1：実行中は緑、イジェクト中は緑点滅、0または100で終了した場合はOFF、その他の結果またはイジェクト失敗の場合はオレンジ点滅<br/>2：スクリプト実行中またはイジェクト中は緑点滅、0または100で終了した場合は緑、その他の結果またはイジェクト失敗の場合はオレンジ点滅＜br/>3：実行中およびイジェクト中は緑、終了時はOFF、イジェクト失敗時はオレンジ点滅＜br/＞4：スクリプトは実行中またはイジェクト中のみ使用可能、イジェクトは実行中またはイジェクト中のみ使用可能",
"subitems": [{
"key": "config_LED",
"autoSelect": true,
"editable": false,
"desc":"ステータスLED",
"width": "360",
"mode": "local",
"valueField": "myId",
"displayField": "displayText",
"defaultValue": "@LED@",
"store": {
"xtype": "arraystore",
"fields": ["myId", "displayText"],
"data": [[0, "0 Not used"], [1, "1 grn - grnFlash - OFF or orgFlash"], [2, "2 grnFlash - grnFlash - grn or orgFlash"], [3, "3 grn - grn - OFF or orgFlash"]]
}
}]
}
,{
"type": "multiselect",
"desc":"<br/>スクリプト実行中のステータス表示。",
"subitems": [{
"key": "config_BEEP",
"desc":"開始と終了時にビープ音",
"defaultValue": "@BEEP@"
}]
}
,{
"type": "textfield"
,"desc":"スクリプトが終了コード100で終了した場合は、デバイスのイジェクトを試みます。デバイスを取り出す際のタイムアウト（秒）を指定することができます。"
,"subitems": [{
"key": "config_EJECT_TIMEOUT"
,"desc":"イジェクトタイムアウト[秒］"
,"defaultValue": "@EJECT_TIMEOUT@"
,"validator": {
"allowBlank": false
,"regex": {
"expr": "/^[0-9]+$/"
,"errorText":"正の数を入力する"
}
}
}]
}
,{
"type": "textfield",
"desc":"オプションで、イジェクトの後に実行されるスクリプト（フルパスで！）を指定することができます。これは、例えばUSBデバイスの電源を落とすのに使われるかもしれません。イジェクトに失敗した場合、引数は 'Ejection failed' となり、成功した場合は引数はありません!",
"subitems": [{
"key": "config_SCRIPT_AFTER_EJECT",
"desc":"イジェクト後のスクリプト（DSMの場合）",
"width": "350",
"defaultValue": "@SCRIPT_AFTER_EJECT@",
"validator": {
"allowBlank": true
}
}]
}]
}
,{
"step_title":"セキュリティコンフィギュレーション",
"items": [{
"type": "combobox",
"desc":"USBデバイスにある同じ名前のスクリプトがDSMのroot権限で実行される!これはセキュリティ上のリスクです。<br/> 実際には、@ENTRY_COUNT@のスクリプトハッシュが登録されています。<br/>0: セキュリティ機能は使用されません。一致する名前のスクリプトはすべて許可されます。<br/>1: おそらく以前の登録ハッシュはすべて削除されています。<br/>2: 一致する名前のスクリプトのハッシュ値が登録され、実行されるようになる！(ハッシュの追加)<br/><br/>1: おそらく以前の登録ハッシュは全て削除されている。(ハッシュの追加)<br/>3:過去に登録されたスクリプトのみ実行可能です。(登録凍結)",
"subitems": [{
"key": "config_ADD_NEW_FINGERPRINTS",
"autoSelect": true,
"editable": false,
"desc":"スクリプトハッシュの登録",
"width": "360",
"mode": "local",
"valueField": "myId",
"displayField": "displayText",
"defaultValue": "@ADD_NEW_FINGERPRINTS@",
"store": {
"xtype": "arraystore",
"fields": ["myId", "displayText"],
"data": [[0, "0 Feature not used (unrestricted)"], [1, "1 1st script allowed"], [2, "2 Add any hash value"], [3, "3 Only previously registered"]]
}
}]
}]
}
,{
"step_title":"重要：手動操作が必要です",
"items": [{
"type": "textfield",
"desc":"DSM 7.x では、サードパーティ製パッケージは Synology によって制限されています。自動実行には root 権限が必要なので、インストール後に追加の手動ステップが必要です。<br/><br/>インストールが完了したら、NAS に SSH して (管理ユーザーとして)、次のコマンドを実行します。これで、コピーすることができます!",
"subitems": [{
"key": "ignore_value",
"desc":"コマンド",
"width": "440",
"defaultValue": "sudo cp /var/packages/autorun/conf/privilege.root /var/packages/autorun/conf/privilege"
}]
}]
}
]

